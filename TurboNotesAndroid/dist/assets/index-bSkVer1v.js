!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();
/*! Capacitor: https://capacitorjs.com/ - MIT License */
const e=(e=>e.CapacitorPlatforms=(e=>{const t=new Map;t.set("web",{name:"web"});const n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t};return n.addPlatform=(e,t)=>{n.platforms.set(e,t)},n.setPlatform=e=>{n.platforms.has(e)&&(n.currentPlatform=n.platforms.get(e))},n})(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});var t,n;e.addPlatform,e.setPlatform,(n=t||(t={})).Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE";class o extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const i=e=>{var n,i,s,r,a;const l=e.CapacitorCustomPlatform||null,d=e.Capacitor||{},c=d.Plugins=d.Plugins||{},u=e.CapacitorPlatforms,m=(null===(n=null==u?void 0:u.currentPlatform)||void 0===n?void 0:n.getPlatform)||(()=>null!==l?l.name:(e=>{var t,n;return(null==e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"})(e)),p=(null===(i=null==u?void 0:u.currentPlatform)||void 0===i?void 0:i.isNativePlatform)||(()=>"web"!==m()),h=(null===(s=null==u?void 0:u.currentPlatform)||void 0===s?void 0:s.isPluginAvailable)||(e=>{const t=v.get(e);return!!(null==t?void 0:t.platforms.has(m()))||!!g(e)}),g=(null===(r=null==u?void 0:u.currentPlatform)||void 0===r?void 0:r.getPluginHeader)||(e=>{var t;return null===(t=d.PluginHeaders)||void 0===t?void 0:t.find(t=>t.name===e)}),v=new Map,f=(null===(a=null==u?void 0:u.currentPlatform)||void 0===a?void 0:a.registerPlugin)||((e,n={})=>{const i=v.get(e);if(i)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),i.proxy;const s=m(),r=g(e);let a;const u=i=>{let c;const u=(...u)=>{const m=(async()=>(!a&&s in n?a=a="function"==typeof n[s]?await n[s]():n[s]:null!==l&&!a&&"web"in n&&(a=a="function"==typeof n.web?await n.web():n.web),a))().then(n=>{const a=((n,i)=>{var a,l;if(!r){if(n)return null===(l=n[i])||void 0===l?void 0:l.bind(n);throw new o(`"${e}" plugin is not implemented on ${s}`,t.Unimplemented)}{const t=null==r?void 0:r.methods.find(e=>i===e.name);if(t)return"promise"===t.rtype?t=>d.nativePromise(e,i.toString(),t):(t,n)=>d.nativeCallback(e,i.toString(),t,n);if(n)return null===(a=n[i])||void 0===a?void 0:a.bind(n)}})(n,i);if(a){const e=a(...u);return c=null==e?void 0:e.remove,e}throw new o(`"${e}.${i}()" is not implemented on ${s}`,t.Unimplemented)});return"addListener"===i&&(m.remove=async()=>c()),m};return u.toString=()=>`${i.toString()}() { [capacitor code] }`,Object.defineProperty(u,"name",{value:i,writable:!1,configurable:!1}),u},p=u("addListener"),h=u("removeListener"),f=(e,t)=>{const n=p({eventName:e},t),o=async()=>{const o=await n;h({eventName:e,callbackId:o},t)},i=new Promise(e=>n.then(()=>e({remove:o})));return i.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await o()},i},w=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return r?f:p;case"removeListener":return h;default:return u(t)}}});return c[e]=w,v.set(e,{name:e,proxy:w,platforms:new Set([...Object.keys(n),...r?[s]:[]])}),w});return d.convertFileSrc||(d.convertFileSrc=e=>e),d.getPlatform=m,d.handleError=t=>e.console.error(t),d.isNativePlatform=p,d.isPluginAvailable=h,d.pluginMethodNoop=(e,t,n)=>Promise.reject(`${n} does not have an implementation of "${t}".`),d.registerPlugin=f,d.Exception=o,d.DEBUG=!!d.DEBUG,d.isLoggingEnabled=!!d.isLoggingEnabled,d.platform=d.getPlatform(),d.isNative=d.isNativePlatform(),d},s=(e=>e.Capacitor=i(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),r=s.registerPlugin;s.Plugins;class a{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const n=this.windowListeners[e];n&&!n.registered&&this.addWindowListener(n);const o=async()=>this.removeListener(e,t),i=Promise.resolve({remove:o});return Object.defineProperty(i,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await o()}}),i}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t){const n=this.listeners[e];n&&n.forEach(e=>e(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new s.Exception(e,t.Unimplemented)}unavailable(e="not available"){return new s.Exception(e,t.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const o=n.indexOf(t);this.listeners[e].splice(o,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const l=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),d=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class c extends a{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(e=>{if(e.length<=0)return;let[n,o]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=d(n).trim(),o=d(o).trim(),t[n]=o}),t}async setCookie(e){try{const t=l(e.key),n=l(e.value),o=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),s=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${n||""}${o}; path=${i}; ${s};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}r("CapacitorCookies",{web:()=>new c});const u=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),o=((e={})=>{const t=Object.keys(e);return Object.keys(e).map(e=>e.toLocaleLowerCase()).reduce((n,o,i)=>(n[o]=e[t[i]],n),{})})(e.headers)["content-type"]||"";if("string"==typeof e.data)n.body=e.data;else if(o.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[n,o]of Object.entries(e.data||{}))t.set(n,o);n.body=t.toString()}else if(o.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach((e,n)=>{t.append(n,e)});else for(const n of Object.keys(e.data))t.append(n,e.data[n]);n.body=t;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(o.includes("application/json")||"object"==typeof e.data)&&(n.body=JSON.stringify(e.data));return n};class m extends a{async request(e){const t=u(e,e.webFetchExtra),n=((e,t=!0)=>e?Object.entries(e).reduce((e,n)=>{const[o,i]=n;let s,r;return Array.isArray(i)?(r="",i.forEach(e=>{s=t?encodeURIComponent(e):e,r+=`${o}=${s}&`}),r.slice(0,-1)):(s=t?encodeURIComponent(i):i,r=`${o}=${s}`),`${e}&${r}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),o=n?`${e.url}?${n}`:e.url,i=await fetch(o,t),s=i.headers.get("content-type")||"";let r,a,{responseType:l="text"}=i.ok?e:{};switch(s.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":a=await i.blob(),r=await(async e=>new Promise((t,n)=>{const o=new FileReader;o.onload=()=>{const e=o.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},o.onerror=e=>n(e),o.readAsDataURL(e)}))(a);break;case"json":r=await i.json();break;default:r=await i.text()}const d={};return i.headers.forEach((e,t)=>{d[t]=e}),{data:r,headers:d,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}r("CapacitorHttp",{web:()=>new m});const p={},h=function(e,t,n){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));o=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in p)return;p[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script"),i.crossOrigin="",i.href=e,n&&i.setAttribute("nonce",n),document.head.appendChild(i),t?new Promise((t,n)=>{i.addEventListener("load",t),i.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function i(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return o.then(t=>{for(const e of t||[])"rejected"===e.status&&i(e.reason);return e().catch(i)})},g=r("Preferences",{web:()=>h(()=>import("./web-CCiaK69F.js"),[]).then(e=>new e.PreferencesWeb)});var v,f,w,y;(f=v||(v={})).Heavy="HEAVY",f.Medium="MEDIUM",f.Light="LIGHT",(y=w||(w={})).Success="SUCCESS",y.Warning="WARNING",y.Error="ERROR";const b=r("Haptics",{web:()=>h(()=>import("./web-DKm1i9iY.js"),[]).then(e=>new e.HapticsWeb)});var E,N,L,P;(N=E||(E={})).Dark="DARK",N.Light="LIGHT",N.Default="DEFAULT",(P=L||(L={})).None="NONE",P.Slide="SLIDE",P.Fade="FADE";const k=r("StatusBar");const I=new class{constructor(){this.notes=[],this.currentEditingId=null,this.init()}async init(){s.isNativePlatform()&&(await k.setStyle({style:E.Dark}),await k.setBackgroundColor({color:"#000000"})),await this.loadNotes(),this.renderNotes(),this.bindEvents(),console.log("🚀 Turbo Notes Android initialized")}bindEvents(){const e=document.getElementById("quickNote"),t=document.getElementById("saveQuickNote");null==e||e.addEventListener("input",()=>{const n=e.value.trim().length>0;t.disabled=!n}),null==e||e.addEventListener("keydown",e=>{"Enter"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.saveQuickNote())});const n=document.getElementById("noteEditor"),o=document.getElementById("saveNote");null==n||n.addEventListener("input",()=>{const e=n.value.trim().length>0;o.disabled=!e}),document.addEventListener("keydown",e=>{"Escape"===e.key&&this.closeModal()});const i=document.getElementById("noteModal");null==i||i.addEventListener("click",e=>{e.target===i&&this.closeModal()})}async saveQuickNote(){const e=document.getElementById("quickNote"),t=e.value.trim();t&&(await this.addNote(t),e.value="",document.getElementById("saveQuickNote").disabled=!0,s.isNativePlatform()&&await b.impact({style:v.Light}))}async addNote(e){const t={id:Date.now().toString(),content:e,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};this.notes.unshift(t),await this.saveNotes(),this.renderNotes()}async updateNote(e,t){const n=this.notes.findIndex(t=>t.id===e);-1!==n&&(this.notes[n].content=t,this.notes[n].updatedAt=(new Date).toISOString(),await this.saveNotes(),this.renderNotes())}async deleteNote(e){confirm("Are you sure you want to delete this note?")&&(this.notes=this.notes.filter(t=>t.id!==e),await this.saveNotes(),this.renderNotes(),s.isNativePlatform()&&await b.impact({style:v.Medium}))}openNoteEditor(e){const t=document.getElementById("noteModal"),n=document.getElementById("noteEditor"),o=document.getElementById("modalTitle"),i=document.getElementById("saveNote");if(this.currentEditingId=e||null,e){const t=this.notes.find(t=>t.id===e);t&&(n.value=t.content,o.textContent="Edit Note")}else n.value="",o.textContent="New Note";i.disabled=0===n.value.trim().length,null==t||t.classList.add("active"),n.focus()}closeModal(){const e=document.getElementById("noteModal");null==e||e.classList.remove("active"),this.currentEditingId=null}async saveNote(){const e=document.getElementById("noteEditor").value.trim();e&&(this.currentEditingId?await this.updateNote(this.currentEditingId,e):await this.addNote(e),this.closeModal(),s.isNativePlatform()&&await b.impact({style:v.Light}))}renderNotes(){const e=document.getElementById("notesList"),t=document.getElementById("emptyState");if(e&&t){if(0===this.notes.length)return e.style.display="none",void(t.style.display="block");e.style.display="flex",t.style.display="none",e.innerHTML=this.notes.map(e=>`\n            <div class="note-item" onclick="app.openNoteEditor('${e.id}')">\n                <div class="note-preview">${this.escapeHtml(this.truncateText(e.content,150))}</div>\n                <div class="note-meta">\n                    <span class="note-date">${this.formatDate(e.createdAt)}</span>\n                    <div class="note-actions">\n                        <button class="note-action" onclick="event.stopPropagation(); app.openNoteEditor('${e.id}')" title="Edit">✏️</button>\n                        <button class="note-action delete" onclick="event.stopPropagation(); app.deleteNote('${e.id}')" title="Delete">🗑️</button>\n                    </div>\n                </div>\n            </div>\n        `).join("")}}async loadNotes(){try{const{value:e}=await g.get({key:"turbo-notes"});e&&(this.notes=JSON.parse(e))}catch(e){console.error("Failed to load notes:",e),this.notes=[]}}async saveNotes(){try{await g.set({key:"turbo-notes",value:JSON.stringify(this.notes)})}catch(e){console.error("Failed to save notes:",e)}}truncateText(e,t){return e.length<=t?e:e.substring(0,t)+"..."}formatDate(e){const t=new Date(e),n=(new Date).getTime()-t.getTime(),o=Math.floor(n/864e5);return 0===o?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):1===o?"Yesterday":o<7?`${o} days ago`:t.toLocaleDateString()}escapeHtml(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}};window.app=I,window.saveQuickNote=()=>I.saveQuickNote(),window.openNoteEditor=e=>I.openNoteEditor(e),window.closeModal=()=>I.closeModal(),window.saveNote=()=>I.saveNote(),window.toggleMenu=()=>{alert("Menu functionality coming soon!\n\nFeatures:\n- Export notes\n- Settings\n- About")},document.addEventListener("DOMContentLoaded",()=>{console.log("DOM loaded")}),document.addEventListener("deviceready",()=>{console.log("Device ready")}),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});export{v as I,w as N,a as W};
